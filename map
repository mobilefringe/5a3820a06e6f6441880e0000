<style>
    #map2 {
        max-width: 100%;
        /*max-height: 586px;*/
        position: relative;
        top: 0;
        left: 0;
        border-radius: 4px;
        overflow: hidden;
    }
    #zoom_image{
		width:3000px;
		height: 2200px;
		min-width:3000px;
		min-height: 2200px;
		max-width: none;
		
	}
	#zoom_container_directory{
	    /*height:700px;*/
	    /*width:600px;//!important;*/
	}
    .zoom_container .landmarks{
    	position:absolute;
    	z-index:10;	
    	top:0px;
    	left:0px;
    	font-family: Helvetica, Arial, Verdana;
    	font-size:12px;
    	color: #ffffff;
    }	
    .zoom_container .landmarks .item {
    	position:absolute;		
    	text-align:center;		
    	display: none;
    }	
    .zoom_container .landmarks .lable div {
    	width: 100px;
    	padding: 4px;	
    }	
    .zoom_container .landmarks .mark .text{
    	background-color:#000000;
    	padding:2px 6px;
    	min-width: 75px;	
    }
    .truncate {
      width: 100%;
      white-space: normal;
    }
    /*.map{max-width:100%;max-height:586px;position:relative;top:0;left:0;border-radius:4px;overflow:hidden}*/
</style>
<div class="inside_banner">   
    <div class="content_container">
        <div class="inside_banner_content">
            <div class="row">
                <div class="col-md-6">
                    <h1>Centre Map</h1>
                </div>
                <div class="col-md-6 hidden_phone">
                    <h4 class="pull-right">Stores <i class="fa fa-angle-right" aria-hidden="true"></i> Centre Map</h4>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="content_container margin_30">
    <div class="margin_30"></div>
    <div class="row">
        <div class="col-md-12 center hidden_phone">
            <a href="/stores"><div class="directory_btn caps ">Stores</div></a>
            <div class="directory_btn caps active">Centre Map</div>
        </div>
        <div class="col-sm-12 center">
            <a href="/stores"><div class="directory_btn caps directory_back"><i class="fa fa-angle-left" aria-hidden="true"></i> Back to Directory</div></a>
        </div>
    </div>
    <div class="margin_30"></div>
    <div class="row">
        <div class="col-md-12">
            <div class="map_container">
                <!--<div id="mappedin-map"></div>-->
                <!--<main data-venue="10-dundas" data-key="" data-header="0" id="mappedin-app"></main> -->
                <div id="map">
                </div>
            </div>
        </div> 
    </div>
</div>
<!--<script type="text/javascript">-->
<!--    window.mappedin = {-->
<!--        miKey: {-->
<!--            id: 'NQ8si2mbnbtJ6ticAUV37ByqstlkuC5M',-->
<!--            key: 'cwKTJ7lHEWz0fpLY'-->
<!--        },-->
<!--        searchKey: {-->
<!--            id: 'ki6v9TAb9HA2VK2A2OSaUCdXi0orCnxE',-->
<!--            secret: 'TIc9sMNtVrme4hik'-->
<!--        }-->
<!--    };-->
<!--</script>-->
<!--<script src="https://d1p5cqqchvbqmy.cloudfront.net/web/release/mappedin-web.js" type="text/javascript"></script>-->
<script type="text/javascript" src="//codecloud.cdn.speedyrails.net/sites/592482696e6f6450ebc40000/text/javascript/1495734613000/raphael.js"></script>
<script type="text/javascript" src="//codecloud.cdn.speedyrails.net/sites/592482696e6f6450ebc40000/text/javascript/1495734619000/jquery.mousewheel.js"></script>
<script type="text/javascript" src="//mallmaverick.cdn.speedyrails.net/system/site_images/photos/000/005/107/original/mallmaverick_svgmap.js?1412885524"></script>
<script>
    $(document).ready(function(e){
        init(e);
        function renderAll(){
            // var repo = getRepoDetailsByName("Store Directory Banner");
            // if (repo != undefined) {
            //     var banner = getImageURL(repo.images[0].photo_url);
            //     $(".inside_banner").css({backgroundImage: "url(" + banner + ")"});
            // }
            var stores = getStoresList(); 
            renderStoreList('#store_list_container_map','#store_list_template_map', stores, "A", "Z");
            reg = {};
    		$.each( stores , function( key, val ) {
                if(val.svgmap_region != null && typeof(val.svgmap_region)  != 'undefined'){
                    obj = {};
                    obj["tooltip"] = "<label class='store_name_map'> "+val.name +"</label>"
                    obj["attr"] = {}
                    obj["attr"]["href"] = '/stores/'+val.slug 
                    reg[val.svgmap_region] = obj
                }
            });
            console.log("stores", stores);
            init_map(reg);
            show_content();
        }
        loadMallDataCached(renderAll); 
    });
</script>